<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pure Swift</title>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap");
    body, html {
      margin: 0;
      background: rgb(37, 37, 37);
      font-family: "Monsterrat", sans-serif;
      --swift-color: rgb(249, 84, 46);
      --swift-gradient1: rgb(251, 176, 72);
      --swift-gradient2: rgb(254, 53, 39);
      color: white;
      overflow-x: hidden;
      max-width: 100%;
    }
    main {
      margin: 24px;
      margin-top: 85px;
    }
    div.intro {
      padding: 24px;
    }

    nav {
      position: absolute;
      -webkit-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
      left: 50%;
      width: 100%;
      background: black;
      padding: 16px;
      margin-top: 16px;
    }

    nav a {
      margin-left: 24px;
      margin-right: 25px;
      color: #f6f4e6;
      text-decoration: none;
      font-size: 1.2em;
      /*text-transform: uppercase;*/
      font-weight: 500;
      display: inline-block;
      -webkit-transition: all 0.2s ease-in-out;
      transition: all 0.2s ease-in-out;

      position: -webkit-sticky; /* Safari */
      position: sticky;
      top: 0;
      
      float: right;
    }

    nav a#nav-title {
      float: left;
    }

    nav a:hover, nav a.active {
      color: var(--swift-color);
    }
    
    .intro {
      background: linear-gradient(90deg, var(--swift-gradient2), var(--swift-gradient1));
      background: -moz-linear-gradient(90deg, var(--swift-gradient2), var(--swift-gradient1));
      background: -webkit-linear-gradient(90deg, var(--swift-gradient2), var(--swift-gradient1));
    }

    h1 {
      font-size: 64px;
    }
    p.intro {
      font-size: 18px;
      background: none;
      line-height: 1.3;
    }

    .packages {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr;
      column-gap: 15px;
      row-gap: 15px;
      width: 100%;
    }

    @media only screen and (max-width: 1400px) {
      .packages {
        grid-template-columns: 1fr 1fr 1fr;
      }
    }

    @media only screen and (max-width: 750px) {
      .packages {
        grid-template-columns: 1fr 1fr;
      }
    }

    @media only screen and (max-width: 500px) {
      .packages {
        grid-template-columns: 1fr;
      }
    } 

    .package {
      background: black;
      width: 100%;
      height: 135px;
      border-radius: 10px;
      display: inline-block;
      overflow: hidden;
      cursor: pointer;
    }
    .package .content {
      padding: 15px;
      margin-top: -15px;
    }
  </style>
</head>
<body>
  <div class="intro">
    <div style="height: fit-content;">
      <img src="images/swift-logo.png" alt="Swift" style="float: left; height: 100px;">
      <h1>Pure Swift</h1>
    </div>

    <p class="intro">
      Swift is so much more than a language for developping for Apple systems. 
      Swift has a lot of use cases for scripting in servers. 
      Sadly though, a lot of Swift packages do not work on other platforms.
      This website tries to address these issues by providing an easier search for Swift packages that
      work outside of Apple systems.
    </p>
  </div>
  
  <nav id="navbar">
    <!--a href="" id="nav-title">PureSwift</a-->
    <a class="active">Browse</a>
    <a href="search">Search</a>
  </nav>
  <main>
    <div class="packages">
      #for(package in packages):
      <div class="package">
        <div class="content" onclick="location.href='/package/#(package.title)';">
          <h3>#(package.title)</h3>
          <p>#(package.short_desc)</p>
        </div>
      </div>
      #endfor
  </main>

  <script>
    // Adds an elipsis ('...') when the description of a package overflows
    const packages = document.querySelectorAll('.package');
    Array.prototype.forEach.call(packages, (package) => {
      let content = package.querySelector('.content');
      let p = content.querySelector('p');
      let h3 = content.querySelector('h3');
      let packageH = package.clientHeight;
      const padding = 15;
      let height = packageH - h3.clientHeight - padding * 3;
      while (p.offsetHeight > height) {
        p.textContent = p.textContent.replace(/\W*\s(\S)*$/, '...');
      }
    });
  </script>
</body>
</html>